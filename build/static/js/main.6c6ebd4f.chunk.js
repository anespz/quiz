(this.webpackJsonpquiz=this.webpackJsonpquiz||[]).push([[0],{41:function(t,e,n){},64:function(t,e,n){t.exports=n(81)},69:function(t,e,n){},81:function(t,e,n){"use strict";n.r(e);var i,s=n(0),o=n.n(s),a=n(22),r=n.n(a),c=(n(69),n(41),n(10)),l=n(11),u=n(13),h=n(12),p=n(14),v=n(15),y=n(83),d=n(84),b=n(36),j=n(8).a.create({card:{backgroundColor:"white",flex:1,flexDirection:"column",alignItems:"center",justifyContent:"center",paddingTop:"50px",paddingBottom:"50px",marginHorizontal:"50px",width:"80%"},title:{fontSize:40,textAlign:"center",padding:"10px"},container:(i={flex:1,flexDirection:"column",alignItems:"center",justifyContent:"center"},Object(b.a)(i,"alignItems","center"),Object(b.a)(i,"paddingTop","10px"),Object(b.a)(i,"paddingBottom","10px"),i),subtitle:{fontSize:20,textAlign:"center",padding:"10px"},listelement:{fontSize:15,textAlign:"center",padding:"10px"},buttonview:{flexDirection:"row"},table:{padding:"10px",textAlign:"center",flexDirection:"col"},row:{padding:"10px",borderWidth:"1px",borderColor:"#f4f4f4",flexDirection:"row"},cell:{padding:"10px",border:"1px",borderColor:"#f4f4f4"}}),m=function(t){function e(t){var n;Object(c.a)(this,e);return(n=Object(u.a)(this,Object(h.a)(e).call(this,t))).state={activity:"",order:"",jsonUrl:{fullUrl:"https://cors-anywhere.herokuapp.com/https://s3.eu-west-2.amazonaws.com/interview.mock.data/payload.json"}},n}return Object(p.a)(e,t),Object(l.a)(e,[{key:"getTitle",value:function(){return"Activity One"===this.props.activity?this.props.activity:this.props.activity+" / ROUND "+this.state.round}},{key:"updateJsonObj",value:function(t){for(var e=this,n=this.props.jsonObj,i=this.props.getActivityObj(""+this.props.activity),s=0;s<i.questions.length;s++){var o=i.questions[s];if("Activity One"===this.props.activity){if(o.order===this.state.order)return o.user_answers.unshift(t),new Promise((function(t,i){e.setState({jsonObj:n},(function(){console.log("UPDATED"),t(e.props.jsonObj)}))}))}else if(o.order===this.state.round)for(var a=0;a<o.questions.length;a++){var r=o.questions[a];if(r.order===this.state.order)return r.user_answers.unshift(t),new Promise((function(t,i){e.setState({jsonObj:n},(function(){console.log("UPDATED"),t(e.props.jsonObj)}))}))}}}},{key:"updateAnswer",value:function(t){var e=this;console.log("answer = "+t),this.updateJsonObj(t).then((function(t){fetch("http://localhost:3000/payload",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(t){return t.json()})).then((function(){var t=e.props.history.location.pathname+"/results/";e.redirect(t)}))})).catch((function(t){console.error("Error:",t)}))}},{key:"getNumQuestions",value:function(){var t=this.props.getActivityObj(""+this.props.activity);if("Activity One"===this.props.activity)return t.questions.length;for(var e=0;e<t.questions.length;e++){var n=t.questions[e];if(n.order===this.state.round)return n.questions.length}}},{key:"getNumRounds",value:function(){var t=this.props.getActivityObj(this.props.activity);if("Activity Two"===this.props.activity)return t.questions.length;console.log("this activity has no rounds")}},{key:"redirect",value:function(t){if(this.state.order===this.getNumQuestions())if("Activity One"===this.props.activity)this.props.history.push(t);else{this.state.round===this.getNumRounds()&&this.props.history.push(t);var e=this.state.round+1;this.setState({order:1,round:e})}else{var n=this.state.order+1;this.setState({order:n})}}},{key:"render",value:function(){var t="",e=function(){return console.log("update: null")};if(this.props.jsonObj){var n=this.props.activity;t=this.props.getQuestionObj(n,this.state.round,this.state.order).stimulus,e=this.updateAnswer.bind(this)}return o.a.createElement(y.a,{className:"QuestionCard",style:j.card},o.a.createElement(d.a,{style:j.title},this.getTitle()),o.a.createElement(d.a,{style:j.subtitle},"Q",this.state.order,"."),o.a.createElement(d.a,{style:j.listelement},t),o.a.createElement(y.a,{style:j.buttonview},o.a.createElement("button",{onClick:function(){return e("CORRECT")}},"CORRECT"," "),o.a.createElement("button",{onClick:function(){return e("INCORRECT")}},"INCORRECT"," ")))}},{key:"componentDidMount",value:function(){this.setState({order:this.props.question,activity:this.props.activity}),"Activity Two"===this.props.activity&&this.setState({round:this.props.round,jsonObj:this.props.jsonObj})}}]),e}(s.Component),O=Object(v.e)(m),f=n(9),g=function(t){function e(t){var n;return Object(c.a)(this,e),(n=Object(u.a)(this,Object(h.a)(e).call(this,t))).state={},n}return Object(p.a)(e,t),Object(l.a)(e,[{key:"getTitle",value:function(){var t=this.props.jsonObj;return o.a.createElement(y.a,{style:j.container},o.a.createElement(d.a,{style:j.title},t.name),o.a.createElement(d.a,{style:j.subtitle},t.heading))}},{key:"getActivityList",value:function(){return[{name:"Activity One"},{name:"Activity Two"},{name:"Activity Three"},{name:"Activity Four"},{name:"Activity Five"}].map((function(t){if("Activity One"===t.name||"Activity Two"===t.name){var e=t.name.split(" ").join("").toLowerCase();return o.a.createElement(d.a,{style:j.listelement},o.a.createElement(f.b,{to:e},t.name))}return o.a.createElement(d.a,{style:j.listelement},t.name)}))}},{key:"render",value:function(){var t=o.a.createElement("div",null," ");return this.props.jsonObj&&(t=this.getTitle()),o.a.createElement(y.a,{className:"MenuCard",style:j.card},o.a.createElement(y.a,{className:"title",style:{justifyContent:"center"}},t),o.a.createElement(y.a,{style:j.container},this.getActivityList()))}}]),e}(s.Component),E=Object(v.e)(g),w=function(t){function e(t){var n;return Object(c.a)(this,e),(n=Object(u.a)(this,Object(h.a)(e).call(this,t))).state={activity:"",order:"",results:{}},n}return Object(p.a)(e,t),Object(l.a)(e,[{key:"getResults",value:function(t){for(var e={},n=0;n<t.questions.length;n++){var i=t.questions[n],s=i.order,o=i.is_correct===("CORRECT"===i.user_answers[0]);e[s]=o,console.log(e)}return e}},{key:"getRowsData",value:function(t){var e=t;return Object.keys(e).map((function(t){return console.log("row: "+t+"  value: "+e[t]),o.a.createElement(y.a,{style:j.row},o.a.createElement(d.a,{style:j.cell}," ","Q"+t," "),o.a.createElement(d.a,{style:j.cell}," ",""+e[t]," "))}))}},{key:"getTable",value:function(){var t=this.props.activity;if(console.log(t),"Activity Two"===t){var e=this.props.getRoundObj(t,1),n=this.getResults(e),i=this.props.getRoundObj(t,2),s=this.getResults(i);return o.a.createElement(y.a,{style:j.table},o.a.createElement(d.a,{style:j.row}," Round 1 "),this.getRowsData(n),o.a.createElement(d.a,{style:j.row},"Round 2"),this.getRowsData(s))}var a=this.props.getActivityObj(t),r=this.getResults(a);return o.a.createElement(y.a,{style:j.table},this.getRowsData(r))}},{key:"redirect",value:function(){this.props.history.push("/menu")}},{key:"render",value:function(){var t=o.a.createElement("div",null);return this.props.jsonObj&&(t=this.getTable()),o.a.createElement(y.a,{style:j.card},o.a.createElement(d.a,{style:j.title}," ",this.state.activity.toUpperCase()," "),o.a.createElement(d.a,{style:j.subtitle}," ","Results".toUpperCase()," "),o.a.createElement(y.a,null,t),o.a.createElement(y.a,{style:j.buttonview},o.a.createElement("button",{onClick:this.redirect.bind(this)}," MENU ")))}},{key:"componentDidMount",value:function(){console.log("did mount!"),this.setState({order:this.props.question,activity:this.props.activity})}}]),e}(s.Component),A=Object(v.e)(w),k=function(t){function e(t){var n;Object(c.a)(this,e);return(n=Object(u.a)(this,Object(h.a)(e).call(this,t))).state={jsonUrl:{fullUrl:"https://cors-anywhere.herokuapp.com/https://s3.eu-west-2.amazonaws.com/interview.mock.data/payload.json"},jsonObj:null},n}return Object(p.a)(e,t),Object(l.a)(e,[{key:"fetchJSON",value:function(){var t=this;fetch("http://localhost:3000/payload").then((function(t){if(!t.ok)throw new Error("Network response was not ok");return t})).then((function(t){return t.json()})).then((function(e){t.setState({jsonObj:e},(function(){console.log("state set!!!")}))})).catch((function(t){return console.log("Error:",t)}))}},{key:"getActivityObj",value:function(t){console.log(this.state.jsonObj);for(var e=this.state.jsonObj,n=0;n<e.activities.length;n++){var i=e.activities[n];if(i.activity_name===t)return i}}},{key:"getRoundObj",value:function(t,e){console.log("getting round");for(var n=this.getActivityObj(t),i=0;i<n.questions.length;i++){var s=n.questions[i];if(s.order===e)return console.log("return round"),console.log(s),s}}},{key:"getQuestionObj",value:function(t,e,n){var i=null;i="Activity Two"===t?this.getRoundObj(t,e):this.getActivityObj(t);for(var s=0;s<i.questions.length;s++){var o=i.questions[s];if(o.order===n)return o}}},{key:"render",value:function(){return o.a.createElement(y.a,{className:"container",style:j.container},o.a.createElement(v.a,{exact:!0,path:"/activityone"},o.a.createElement(O,{activity:"Activity One",question:1,getQuestionObj:this.getQuestionObj.bind(this),getActivityObj:this.getActivityObj.bind(this),jsonObj:this.state.jsonObj,updateJSON:this.fetchJSON})),o.a.createElement(v.a,{exact:!0,path:"/activitytwo"},o.a.createElement(O,{activity:"Activity Two",round:1,question:1,getQuestionObj:this.getQuestionObj.bind(this),getActivityObj:this.getActivityObj.bind(this),jsonObj:this.state.jsonObj,updateJSON:this.fetchJSON})),o.a.createElement(v.a,{exact:!0,path:"/menu"},o.a.createElement(E,{jsonObj:this.state.jsonObj})),o.a.createElement(v.a,{exact:!0,path:"/activityone/results"},o.a.createElement(A,{activity:"Activity One",getQuestionObj:this.getQuestionObj.bind(this),getRoundObj:this.getRoundObj.bind(this),getActivityObj:this.getActivityObj.bind(this),jsonObj:this.state.jsonObj})),o.a.createElement(v.a,{exact:!0,path:"/activitytwo/results"},o.a.createElement(A,{activity:"Activity Two",getQuestionObj:this.getQuestionObj.bind(this),getRoundObj:this.getRoundObj.bind(this),getActivityObj:this.getActivityObj.bind(this),jsonObj:this.state.jsonObj})))}},{key:"componentDidMount",value:function(){console.log("mounting container"),this.fetchJSON(),console.log("mount done")}}]),e}(s.Component),R=Object(v.e)(k);var x=function(){return o.a.createElement(R,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(f.a,null,o.a.createElement(x,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[64,1,2]]]);
//# sourceMappingURL=main.6c6ebd4f.chunk.js.map